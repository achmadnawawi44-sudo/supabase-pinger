<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Supabase Auto Ping</title>
</head>
<body>
  <h1>Supabase Auto Ping</h1>
  <p>Halaman ini mengirim request ke Supabase endpoints untuk menjaga agar tetap aktif.</p>
  <pre id="log"></pre>

  <script>
    const urls = [
      "https://plrfinzrxysakgrsjcvg.supabase.co/rest/v1/",
      "https://ytacwxsvfdqtvjbbjjnl.supabase.co/rest/v1/"
    ];

    const log = document.getElementById("log");

    async function pingAll() {
      for (const url of urls) {
        try {
          const res = await fetch(url, { method: "GET", mode: "no-cors" });
          log.textContent += `✅ Ping ${url} berhasil (mungkin tanpa response karena no-cors)\n`;
        } catch (err) {
          log.textContent += `❌ Gagal ping ${url}: ${err}\n`;
        }
      }
    }

    pingAll();
    // Auto ping setiap 5 menit
    setInterval(pingAll, 5 * 60 * 1000);
  </script>
</body>
</html>
